<!DOCTYPE html>
<html >
<head lang="en">
    <meta charset="UTF-8">
    <title>注册</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/buttons.css" rel="stylesheet" type="text/css">
    <link href="css/mycss.css" rel="stylesheet" type="text/css">
    <script src="js/jquery-2.2.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</head>
<body >
<div class="d_container">
    <div class="d_header">
        <img src="images/logo1.png" style="width:100px;height: auto">
        <span>中文智能作业管理系统</span>
    </div>
    <div class="d_content" >
        <div class="con_header">
            <p>注册</p>
        </div>
        <form class="con_form" ng-controller="test">
            <div class="form-group " id="nameid">
                    <input type="text"  class="form-control"  id="username" >
                    <label for="username" class="form_label" id="labelname" >用户名</label>
                    <div style="display: none;width: auto;color: #cc0001;text-align: center;" id="show_name">用户名不能超过20字符！</div>
            </div>
            <div class="form-group" id="pwdid">
                <input type="password" class="form-control"  id="userpwd" >
                <label for="userpwd" class="form_label" id="labelpwd">密码</label>
                <div style="display: none;width: auto;color: #cc0001;text-align: center;" id="show_pwd">密码不能小于6个字符！</div>
            </div>
            <div class="form-group" id="pwdagainid">
                <input type="password" class="form-control"  id="userpwdagain" >
                <label for="userpwdagain" class="form_label" id="labelpwdagain">确认密码</label>
                <div style="display: none;width: auto;color: #cc0001;text-align: center;" id="show_same">两次密码输入不同！</div>
            </div>
            <div class="form-group" id="truenameid">
                <input type="name" class="form-control"  id="usertruename" >
                <label for="usertruename" class="form_label" id="labeltruename">真实姓名</label>
                <div style="display: none;width: auto;color: #cc0001;text-align: center;" id="show_true">请输入真实姓名！</div>
            </div>
            <div class="form-group" id="eamilid">
                <input type="email" class="form-control"  id="useremail" >
                <label for="useremail" class="form_label" id="labelemail">电子邮件</label>
                <div style="display: none;width: auto;color: #cc0001;text-align: center;" id="show_email">请输入正确格式的邮箱！</div>
            </div>
            <div class="form-group">
                <a class="btn btn-default col-lg-4 col-lg-offset-1" href="login.html">返回登录</a>
                <a class="btn btn-default col-lg-4 col-lg-offset-3" href="#" id="register">注册</a>
            </div>
        </form>
    </div>
    <div class="d_footer"></div>
</div>



</body>
<script >
    var uname = $("#username");
    var upwd = $("#userpwd");
    var upwdagain = $("#userpwdagain");
    var truename = $("#usertruename");
    var uemail = $("#useremail");
    var count1 = 0;
    var count2 = 0;
    var count3 = 0;
    var count4 = 0;
    var count5 = 0;
    var count = 0;
    uname.focusout(function(){
        count1=0;
        var strName = uname.val().split("");
        if(strName.length>20 || strName.length ==0){
            uname.addClass('wrong');
            uname.on("click",function(){
                $("#show_name").slideDown();
                $("#show_pwd").slideUp();
                $("#show_same").slideUp();
                $("#show_true").slideUp();
                $("#show_email").slideUp();
            })
        }
        else{
            count1++;
            uname.addClass('true')
            $("#show_name").slideUp();
                    $("#show_pwd").slideUp();
                    $("#show_same").slideUp();
                    $("#show_true").slideUp();
                    $("#show_email").slideUp();
        }
    })
    upwd.focusout(function(){
count2=0;
        var strPassword = upwd.val().split("");
        if(strPassword.length>=6){
            count2++;
            upwd.addClass('true')
            $("#show_name").slideUp();
            $("#show_pwd").slideUp();
            $("#show_same").slideUp();
            $("#show_true").slideUp();
            $("#show_email").slideUp();


        }
        else{
            upwd.addClass('wrong');
            upwd.on("click",function(){
                $("#show_name").slideUp();
                $("#show_pwd").slideDown();
                $("#show_same").slideUp();
                $("#show_true").slideUp();
                $("#show_email").slideUp();
            })
        }
    })
    upwdagain.focusout(function(){
        count3 = 0;
        var strP1 = upwd.val();
        var strP2 = upwdagain.val();
        if(strP1 == strP2 && strP1 != ""){
            count3++;
            upwdagain.addClass('true')
            $("#show_name").slideUp();
            $("#show_pwd").slideUp();
            $("#show_same").slideUp();
            $("#show_true").slideUp();
            $("#show_email").slideUp();
        }
        else{
            upwdagain.addClass('wrong');
            upwdagain.on("click",function(){
                $("#show_name").slideUp();
                $("#show_pwd").slideUp();
                $("#show_same").slideDown();
                $("#show_true").slideUp();
                $("#show_email").slideUp();
            })
        }
    })
    truename.focusout(function(){
        count4=0;
        var strNum = truename.val().split("");
        if(strNum.length >= 10 || strNum.length == 0){
            truename.addClass('wrong');
            truename.on("click",function(){
                $("#show_name").slideUp();
                $("#show_pwd").slideUp();
                $("#show_same").slideUp();
                $("#show_true").slideDown();
                $("#show_email").slideUp();
            })
        }
        else{
            count4++;
            truename.addClass('true')
            $("#show_name").slideUp();
            $("#show_pwd").slideUp();
            $("#show_same").slideUp();
            $("#show_true").slideUp();
            $("#show_email").slideUp();
        }
    })
    uemail.focusout(function(){
        count5=0;
        var strEmail = uemail.val().split("");
        if(strEmail.length>30 || strEmail.length ==0|| !(strEmail.indexOf('@')>-1)){
            uemail.addClass('wrong');
            uemail.on("click",function(){
                $("#show_name").slideUp();
                $("#show_pwd").slideUp();
                $("#show_same").slideUp();
                $("#show_true").slideUp();
                $("#show_email").slideDown();
            })
        }
        else{
            count5++;
            uemail.addClass('true')
            $("#show_name").slideUp();
            $("#show_pwd").slideUp();
            $("#show_same").slideUp();
            $("#show_true").slideUp();
            $("#show_email").slideUp();
        }
    })
    count = count1+count2+count3+count4+count5;
    $("#register").click(function(){


        if(count == 5){
            $.ajax({
                type:"POST",
                url:"",
                data:"",
                success:function(msg){
                    alert("注册成功");
                    $("#show_name").slideUp();
                    $("#show_pwd").slideUp();
                    $("#show_same").slideUp();
                    $("#show_true").slideUp();
                    $("#show_email").slideUp();
                }
            });
        }
    })


</script>
<script src="js/myjs.js"></script>

</html>